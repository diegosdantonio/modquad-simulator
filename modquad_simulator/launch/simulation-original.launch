<launch>
    <param name="num_robots" value="4" type="int"/>

    <arg name="sim" default="0"/>
    <arg name="config_path" value="$(find multi_mav_manager)/config/crazyflie"/>
    <arg name="launch_path" value="$(find modquad_simulator)/launch/aux/"/>


    <include file="$(arg launch_path)/modquad.launch">
        <arg name="model" value="crazy01"/>
        <arg name="sim" value="$(arg sim)"/>
        <arg name="config_path" value="$(arg config_path)"/>
    </include>

    <include file="$(arg launch_path)/modquad.launch">
        <arg name="model" value="crazy02"/>
        <arg name="sim" value="$(arg sim)"/>
        <arg name="config_path" value="$(arg config_path)"/>

        <arg name="init_x" default="0.3"/>
    </include>


    <include file="$(arg launch_path)/modquad.launch">
        <arg name="model" value="crazy03"/>
        <arg name="sim" value="$(arg sim)"/>
        <arg name="config_path" value="$(arg config_path)"/>

        <arg name="init_x" default="0.6"/>
    </include>

    <include file="$(arg launch_path)/modquad.launch">
        <arg name="model" value="crazy04"/>
        <arg name="sim" value="$(arg sim)"/>
        <arg name="config_path" value="$(arg config_path)"/>

        <arg name="init_x" default="0.9"/>
    </include>



    <!--Robot Visualization-->
    <node pkg="modquad_simulator" type="visualizer.py" name="visual"/>
    <node pkg="dock_manager" type="docking_detector.py" name="docking_det"/>
    <node pkg="modquad_simulator" type="docking_sim.py" name="docking_sim"/>

    <node pkg="dock_manager" type="odom_multiplexer.py" name="odom_mux"/>

    <!--Dock service-->
    <!--<node pkg="modquad_simulator" tydocker_comander.pyr.py" name="docker"/>-->


    <node pkg="multi_mav_manager"
          type="multi_mav_services"
          name="multi_mav_services"
          output="screen">
        <rosparam file="$(arg config_path)/multi_mav_manager.yaml"/>
    </node>


    <node pkg="tf2_ros" type="static_transform_publisher" name="link1_broadcaster"
          args="1 0 0 0 0 0 1 simulator link1"/>

</launch>
